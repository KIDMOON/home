(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-194b6937"],{"0d3a":function(t,i,a){},3820:function(t,i,a){"use strict";a("4693")},4693:function(t,i,a){},"5ada":function(t,i,a){},"7fc8":function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"login-container"},[a("div",{staticClass:"dialog-two-step-login"},[a("el-form",{ref:"twoSteploginForm",staticClass:"login-form",attrs:{model:t.twoSteploginForm,"label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[t._v("请输入卡密")])]),a("el-form-item",{attrs:{prop:"card"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),a("el-input",{ref:"card",attrs:{placeholder:"请输入卡密",name:"card",type:"text",tabindex:"1"},model:{value:t.twoSteploginForm.card,callback:function(i){t.$set(t.twoSteploginForm,"card",i)},expression:"twoSteploginForm.card"}})],1),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(i){return i.preventDefault(),t.login(i)}}},[t._v("确认 ")])],1),t._m(0)],1)])},s=[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"fake-body"},[a("div",{staticClass:"login_bg"},[a("div",{staticClass:"login_top"},[a("div",{staticStyle:{"padding-top":"30px",width:"200px",float:"left"}},[a("a",{staticStyle:{"font-size":"16px",color:"#ffffff"},attrs:{href:"/cas/countryLogin"}})]),a("div",{staticClass:"logintop_text"},[a("a",{staticClass:"a2",attrs:{href:"https://app.singlewindow.cn/userserver/user/userEtpsRegister/choseRgtWay?menu_id=nra?service=https://i.chinaport.gov.cn/deskserver/j_spring_cas_security_check",target:"_blank"}},[t._v(" 新用户注册")]),t._v(" | "),a("a",{attrs:{href:"https://app.singlewindow.cn/userserver/user/fipd/choseFindPasswordType?projectFlag=2",target:"_blank"}},[t._v("忘记密码")]),t._v(" | "),a("a",{attrs:{href:"https://app.singlewindow.cn/userserver/user/findusername/choseFindUserNameType?projectFlag=2",target:"_blank"}},[t._v("忘记用户名")]),t._v(" | "),a("a",{attrs:{id:"help",href:"https://app.singlewindow.cn/userserver/user/help/registerLoginhelpIndex?menu_id=ump",target:"_blank"}},[t._v("在线帮助")])])]),a("div",{staticClass:"login_mid"},[a("div",{staticClass:"mid_left"}),a("div",{staticClass:"mid_right"},[a("div",{staticClass:"login_wd",staticStyle:{height:"450px"}},[a("div",{staticClass:"tab",attrs:{"js-tab":"0"}},[a("div",{staticClass:"tab-title"},[a("a",{staticClass:"item item-cur",attrs:{id:"tabCa",href:"javascript:;"}},[t._v("IC卡登录")]),a("a",{staticClass:"item",attrs:{id:"tabNoCa",href:"javascript:;"}},[t._v("用户密码")])]),a("div",{staticClass:"tab-cont",staticStyle:{height:"400px"}},[a("div",{staticClass:"tab-cont__wrap"},[a("div",{staticClass:"item",attrs:{id:"itemCa"}},[a("div",{staticClass:"msg-error",staticStyle:{visibility:"hidden"}},[t._v(" 错误提示--请刷新页面后重新提交 ")]),a("div",{staticClass:"form_pass"},[a("div",{staticClass:"form_passico"}),a("div",{staticClass:"form_passinput"},[a("input",{staticStyle:{"vertical-align":"middle"},attrs:{id:"password",type:"password",size:"13",maxlength:"8",onkeypress:"keyp(event)"}})])]),a("div",{staticClass:"form_down",attrs:{id:"download_widget1"}},[a("a",{attrs:{id:"downocx",href:"#",onclick:"javascript:downEportIkeySetup();return false;"}},[t._v("首次登录需要 下载控件")])]),a("div",{staticClass:"form_submit"},[a("div",{staticClass:"submit_login"},[a("a",{attrs:{id:"loginbuttonCa",href:"#",onclick:"doCAIdentify()"}},[a("img",{attrs:{src:"#",alt:"登录11"}})])])]),a("div",{staticStyle:{"font-size":"15px"}},[t._v(" 持中国电子口岸IC卡或IKEY登录 ")]),a("div",{staticStyle:{height:"5px"}}),a("div",{staticStyle:{"padding-top":"5px",color:"#ffd700"},attrs:{id:"info"}}),a("div",{staticClass:"formdiv"},[a("form",{staticClass:"fm-v clearfix",attrs:{id:"fm1",action:"/login_token",method:"post"}},[a("input",{attrs:{type:"hidden",name:"dominate",value:"SW"}}),a("input",{attrs:{type:"hidden",name:"t1",value:""}}),a("input",{attrs:{type:"hidden",name:"tps",value:""}}),a("input",{attrs:{id:"icCard",type:"hidden",name:"icCard",path:"icCard"}}),a("input",{attrs:{id:"certNo",type:"hidden",name:"certNo",path:"certNo"}}),a("input",{attrs:{id:"signData",type:"hidden",name:"signData",path:"signData"}}),a("input",{attrs:{id:"random",type:"hidden",name:"random",value:"${random}"}}),a("input",{attrs:{id:"serverDate",type:"hidden",name:"serverDate",value:"${serverDate}"}}),a("input",{attrs:{id:"userPin",type:"hidden",name:"userPin",value:"${userPin}"}}),a("input",{attrs:{id:"lt",type:"hidden",name:"lt",value:"${it}"}}),a("input",{attrs:{id:"execution",type:"hidden",name:"execution",value:"${execution}"}}),a("input",{attrs:{id:"swLoginFlag",type:"hidden",name:"swLoginFlag",value:"${swLoginFlag}"}}),a("input",{attrs:{id:"lpid",type:"hidden",name:"lpid",value:"P22"}}),a("input",{attrs:{id:"_eventId",type:"hidden",name:"_eventId",value:"submit"}})])])])])])])])]),a("div",{staticClass:"cleardiv"}),a("div",{staticClass:"form_down",attrs:{id:"download_widget"}})])]),a("div",{staticClass:"cleardiv"}),a("div",{staticStyle:{display:"none"},attrs:{id:"error_attach_info"}}),a("div",{staticStyle:{display:"none"},attrs:{id:"error_black_info1"}})])}],n=(a("159b"),a("b0c0"),a("c24f")),r={props:{password:{type:String,required:!0}},data:function(){return{loading:!1,twoSteploginForm:{card:""},querySubmitReadyInterval:null}},mounted:function(){this.twoSteploginForm.card=this.password,init()},methods:{cancel:function(){this.$emit("cancel")},login:function(){var t=this;Object(n["c"])().then((function(i){console.log("houtai",i.data);var a=i.data,e=a.execution,s=a.it,n=a.random,r=a.serverDate,d=a.swLoginFlag,o=a.userPin;$("#random").val(n),$("#serverDate").val(r),$("#userPin").val(o),$("#lt").val(s),$("#execution").val(e),$("#swLoginFlag").val(d),console.log("mima",t.twoSteploginForm.card),$("#password").val(t.twoSteploginForm.card),t.loading=!0,window.submitReady=!1,t.querySubmitReady(),doCAIdentify()}))},caRequest:function(){var t=this,i=$("#fm1").serializeArray(),a={};i.forEach((function(t){a[t.name]=t.value})),Object(n["g"])(a).then((function(){t.loading=!1,t.$emit("finished",!0)})).catch((function(i){t.loading=!1,t.$emit("finished",!1)}))},querySubmitReady:function(){var t=this;this.querySubmitReadyInterval=setInterval((function(){!0===window.submitReady&&(t.caRequest(),clearInterval(t.querySubmitReadyInterval))}),300)}}},d=r,o=(a("ed58"),a("3820"),a("89fc"),a("2877")),l=Object(o["a"])(d,e,s,!1,null,"15796f80",null);i["default"]=l.exports},"89fc":function(t,i,a){"use strict";a("5ada")},ed58:function(t,i,a){"use strict";a("0d3a")}}]);